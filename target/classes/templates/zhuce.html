<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>注册账号</title>
<!--    <link rel="stylesheet" href="skin.css" type="text/css">-->
    <link rel="stylesheet" href="/css/font.css">
    <link rel="stylesheet" href="/css/x-admin.css">
    <link rel="stylesheet" href="/lib/layer/css/layui.css">
    <script src="/js/jquery-3.2.1.min.js"></script>
    <script src="/lib/layer/layui.js"></script>
<!--    <script src="./js/x-layui.js" charset="utf-8"></script>-->
<!--    <link rel="script" href="javascript.js" type="text/javascript">-->
    <script async="" src="https://passport.baidu.com/static/passpc-base/js/dv/g.min.js" id="new_FIAOWNBFDIQILY"></script>
</head>
<body>
<style>
    *{
        margin:0px;
        padding: 0px;
    }
    h1,h2,h3,p{
        margin:0px;
        padding: 0px;
    }
    body {
        font-family: PingFang-SC-Regular,Helvetica,"Microsoft Yahei","微软雅黑";
    }
    .input{
        padding: 11px 10px;
        max-height: 38px;
        height: 16px;
        background:
                #fff;
        border: 1px solid
        #E0E0E0;
        border-radius: 4px;
        font-size: 14px;
        width: 321px;
        color:
                #000;
        font-family: Arial,"宋体";
    }
    .new-input{
        width: 184px;
        margin-right: 9px;
        padding: 11px 10px;
        max-height: 40px;
        background:
                #fff;
        border: 1px solid
        #E0E0E0;
        float: left;
        border-radius: 4px;
        font-size: 14px;
        color: #000;
        font-family: Arial,"宋体";
    }

    .button{
        width: 126px;
        border-radius: 4px;
        background:
                #fff;
        border: 1px solid
        #E0E0E0;
        font-size: 12px;
        color:
                #333;
        letter-spacing: 0;
        text-align: center;
        line-height: 24px;
        height: 40px;
        font-weight: 400;
        left: 200px;
        /*float: left;*/
        margin-right: 10px;
        display: block;
        cursor: pointer;
    }
    .submit{
        background: #bfdee7;
        border-radius: 25px;
        width: 399px;
        position: relative;
        left: 41px;
        display: block;
        height: 50px;
        font-size: 16px;
        font-weight: 700;
        cursor: pointer;
        color: #fff;
        border: 0;
        text-align: center;
        font-family: Arial,"宋体";
    }



    a{
        text-decoration: none;
    }
    #wrapper{
        width: 100%;
    }
    #head,#content,#foot{
        width:980px;
        margin-left: auto;
        margin-right:auto;
    }
    #head{
        height: 75px;
        z-index: 100;
    }
    #head,#nav{
        display: none;
    }
    #nav{
        background: 0 0;
        width: 100%;
        z-index: 1;
    }
    .bg{
        position: fixed;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        background: url(/img/bjz.jpg) no-repeat;
        background-size: cover;
    }
    .bg img{
        display: none;
        width: 100%;
        height: 100%;
    }
    .new-wrapper .logo{
        position: fixed;
        left: 9px;
        top: 28px;
        width: 124.4px;
        height: 40px;
    }
    .new-wrapper .logo img{
        width: 100px;
        height: 100px;
    }
    .new-wrapper .text {
        position: fixed;
        left: 195px;
        top: 314px;
        color: #fff;
    }
    .new-wrapper .text h3 {
        font-size: 54px;
        letter-spacing: 0;
        font-weight: 700;
        margin: 0;
        padding: 0;
    }
    .new-wrapper .text p {
        font-size: 32px;
        letter-spacing: 3.81px;
        font-weight: 300;
        margin: 0;
        padding: 0;
    }
    .new-wrapper .footer{
        font-size: 14px;
        color:
                #fff;
        position: fixed;
        left: 70px;
        bottom: 57px;
    }
    .new-wrapper .footer .help .text{
        opacity: .8;
    }
    .new-wrapper .footer .help .help-text:hover {
        opacity: 1;
    }
    .new-wrapper .footer .help a {
        text-decoration: none;
        color:
                #fff;
        cursor: pointer;
    }
    .new-wrapper .footer .help .line {
        display: inline-block;
        width: 2px;
        height: 12px;
        opacity: .78;
        margin: 0 12px 0 13px;
        background:
                #fff;
        position: relative;
        top: 1px;
    }
    .service {
        display: inline-block;
        width: 16px;
        height: 16px;
        background: url(/img/logo.png) no-repeat;
        background-size: 100%;
        position: relative;
        top: 3px;
    }

    .new-wrapper .footer .copyright {
        opacity: .54;
        font-size: 15px;
        color:
                #fff;
        display: inline-block;
        padding-left: -17px;
    }
    .new-content{
        height: 584px;
        margin-top: -259px;
        position: absolute;
        right: 688px;
        top: 50%;
        width: 500px;
        background: rgba(255,255,255,.9);
        border-radius:12px;
        overflow: hidden;
    }
    .new-content .login{
        margin: 30px 0 0 39px;
    }
    .new-content .login h3{
        font-size: 36px;
        color: #000;
        padding-bottom: 4px;
    }
    .new-content .login p{
        font-size: 14px;
        color: #9B9B9B;
    }
    .new-content .login p span {
        color:
                #2e58ff;
        cursor: pointer;
    }
    .contrain{
        padding-top: 40px;
        overflow: initial;
        position: relative;
        width: 720px;
        float: left;
    }
    .contrain .label {
        font-size: 14px;
        color:
                #333;
        letter-spacing: 0;
        text-align: right;
        width: 82px;
        height: 40px;
        line-height: 40px;
        margin-right: 15px;
        font-weight: 200;
        display: block;
        float: left;
    }
    .item{
        padding-top: 9px;
        margin-top:0 ;
        margin-bottom:15px;
        float: left;
        margin-left: 0px;
    }
    .col4{
        margin-bottom: 20px;
        margin-left: 41px;
        width: 399px;
        text-align: center;
        position: relative;
        clear: both;
    }
    .agree{
        color: #666;
        font-size: 12px;
        margin-left: 5px;
        text-align: center;
    }
</style>

    <div id="wrapper" class="">
        <div id="head"></div>
        <div id="nav"></div>
        <div id="content">
            <div class="bg">
                <img src="/img/bjz.jpg">
            </div>
            <div class="new-wrapper">
                <div class="logo">
                    <img src="/img/logo.png">
                </div>

                <div class="footer">
<!--                    <span class="help">-->
<!--&lt;!&ndash;                        <a class="help-text" href="https://passport.baidu.com/v2/?ucenterfeedback#reg" target="_blank">帮助中心</a> &ndash;&gt;-->
<!--&lt;!&ndash;                        <span class="line"></span>&ndash;&gt;-->
<!--                        <a class="service" href="https://zhiqiu.baidu.com/imcswebchat/roulette/in?id=48721&amp;token=1nnbs7op4ocsr68143oamrjq9c4eoin2&amp;domainID=pass&amp;type=2"></a> -->
<!--                    </span>-->
                    <span class="copyright">2021 ©xs</span>
                </div>
            </div>
            <div class="new-content">
                <div class="login">
                    <h3>欢迎注册</h3>
                    <p>已有账号？
                        <a id="login_btn" href="/login/loginPage" style="color:#6ec0da">登录</a>
                    </p>
                </div>
                <div class="contrain" >
                    <div class="col">
                        <p style="margin-bottom: 20px"><span class="label">用户名</span>
                        <input type="text" name="username" id="username" class="input" placeholder=" 请设置用户名" onchange="change1(this.value)"></p>
                        
                    </div>

                    <div class="col" >
                        <form class="layui-form" method="post" enctype="multipart/form-data">
                            <div class="layui-form-item">
                                <span class="label">角色</span>
                                <div class="layui-input-block">
                                    <input type="radio" name="js" value="客户信息管理员" title="客户信息管理员" checked="checked">
                                    <div class="layui-unselect layui-form-radio layui-form-radioed"><i class="layui-anim layui-icon layui-anim-scaleSpring"></i>
                                        <div>客户信息管理员</div>
                                    </div>
                                    <input type="radio" name="js" value="客户经理" title="客户经理">
                                    <div class="layui-unselect layui-form-radio"><i class="layui-anim layui-icon"></i>
                                        <div>客户经理</div>
                                    </div>
                                    <input type="radio" name="js" value="系统管理员" title="系统管理员">
                                    <div class="layui-unselect layui-form-radio"><i class="layui-anim layui-icon"></i>
                                        <div>系统管理员</div>
                                    </div>


                                </div>
                            </div>
                        </form>
                    </div>
<!--                    <div class="col">-->
<!--                        <p style="margin-bottom: 20px"><span class="label">手机号</span>-->
<!--                        <input type="text" class="input" id="telephone" placeholder="可用于登录及找回密码"></p>-->
<!--                    </div>-->
                    <div class="col">
                        <p style="margin-bottom: 20px" ><span class="label">密码</span>
                        <input type="password" name="password" id="password" class="input" placeholder="请设置登录密码" onchange="change2(this.value)" ></p>
                    </div>

                    <div class="col">
                        <p style="margin-bottom: 20px" ><span class="label">确认密码</span>
                            <input type="password" name="surepassword" id="surepassword" class="input" placeholder="请重复设置的登录密码" onchange="change3(this.value)" ></p>
                    </div>

                    <div class="col">
                        <p style="margin-bottom: 20px" ><span class="label">绑定邮箱</span>
                            <input type="email" name="email" id="email" class="input" placeholder="可用于登录及找回密码" onchange="change4(this.value)" ></p>
                    </div>

                    <div class="col3 col">
                        <p style="margin-bottom: 20px"><span class="label" onchange="change5(this.value)">验证码</span>
                            <input type="text" name="" id="code" class="new-input" placeholder="请输入验证码">
                            <input type="button" value="获取验证码" class="button" id="getCode" onclick="getCode1()"></p>

                        <div class="item" >
                            <button id="submit" class="submit" onclick="zc()">注册</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

<script>
    layui.use(['layer', 'form'], function () {
        var layer = layui.layer
            , form = layui.form
    });

        // onload=function() {
        // var btn=document.getElementById("login_btn");
        // btn.onmouseout=function () {
        //     btn.style.color="#6ec0da";
        // }
        // btn.onmouseover=function () {
        //     btn.style.color="#6ec0da";
        // }
     // }

   var a='';
   var b='';
   var c='';
   var d='';
   var e='';
    function change1(e) {
        // alert("1")
    a=e;
    if(a!=''&&b!=''&&c!=''&&d!=''&&e!=''){
        var btn=document.getElementById("submit");
        btn.style.background="#6ec0da";
    }else{
        var btn=document.getElementById("submit");
             btn.style.background="#bfdee7";
    }


    }

   function change2(e) {
       // alert("11")
       b=e;
       if(a!=''&&b!=''&&c!=''&&d!=''&&e!=''){
           var btn=document.getElementById("submit");
           btn.style.background="#6ec0da";

       }else{
           var btn=document.getElementById("submit");
           btn.style.background="#bfdee7";
       }

   }

   function change3(e) {
       // alert("111")
       c=e;
       if(a!=''&&b!=''&&c!=''&&d!=''&&e!=''){
           var btn=document.getElementById("submit");
           btn.style.background="#6ec0da";
       }else{
           var btn=document.getElementById("submit");
           btn.style.background="#bfdee7";
       }
   }

    function change4(e){
        // alert("111")
        d=e;
        if(a!=''&&b!=''&&c!=''&&d!=''&&e!=''){
            var btn=document.getElementById("submit");
            btn.style.background="#6ec0da";
        }else{
            var btn=document.getElementById("submit");
            btn.style.background="#bfdee7";
        }
    }

    function change5(e1){
        // alert("111")
        e=e1;
        if(a!=''&&b!=''&&c!=''&&d!=''&&e!=''){
            var btn=document.getElementById("submit");
            btn.style.background="#6ec0da";
        }else{
            var btn=document.getElementById("submit");
            btn.style.background="#bfdee7";

        }
    }

    //发送验证码
    function getCode1(){
        var email=document.getElementById("email").value;
        if(email==""){

                layer.msg('邮箱不能为空！', {icon: 5});
            
        }else{
            $.ajax({
                url: "/login/getCode",
                type: "post",
                data:{"email":email},
                dataType: "json",//返回的数据类型
                success: function (data) {
                    layui.use(['layer', 'form'], function () {
                        var layer = layui.layer
                            , form = layui.form;
                        layer.msg(data.info);
                    });
                }
            })
        }
        // console.log(data.field);
        //  发送 ajax请求

        return false;
    }


    function zc(){
        //根据ID获取值
        var username=document.getElementById("username").value;
        var password=document.getElementById("password").value;
        var spassword=document.getElementById("surepassword").value;
        var email=document.getElementById("email").value;
        var code=document.getElementById('code').value;
        var js=$("input[name='js']:checked").val();



        if (username == "" || password == ""||spassword==""||email=="") {
            layui.use(['layer', 'form'], function () {
                var layer = layui.layer
                    , form = layui.form;
                layer.msg('以上选项都不能为空!', {icon: 5});
            });
        } else if (password!=spassword) {
            layui.use(['layer', 'form'], function () {
                var layer = layui.layer
                    , form = layui.form;
                layer.msg('密码与确认密码不一致！', {icon: 5});
            });
        }else {
            $.ajax({
                url: "/login/emailBd",
                type: "post",
                data:{"code":code},
                dataType: "json",//返回的数据类型
                success: function (data) {
                    //定义{info:"登录成功"}
                    layui.use(['layer', 'form'], function () {
                        var layer = layui.layer
                            , form = layui.form;
                        layer.msg(data.info);
                    });
                    if(data.info=="邮箱绑定成功") {
                        var btn = document.getElementById("submit");
                        btn.style.background = "#6ec0da";
                        //发送 ajax请求
                        $.ajax({
                            url: "/login/zhuce",
                            type: "post",
                            data: {"userName": username, "userPwd": password, "email": email,"js":js},
                            dataType: "json",//返回的数据类型
                            success: function (data) {

                                layui.use(['layer', 'form'], function () {
                                    var layer = layui.layer
                                        , form = layui.form;
                                    layer.msg(data.info);
                                });
                            }
                        })
                    }

                }
            })
        }
    }
    // function out(){
    //     alert("!!");
    // }
</script>




